{% extends "layout.njk" %}

{% block content %}

<div class="card table-container">

  <div class="header">
    <a class="button" href="/students/create">Novo</a>
    <form action="/students" method="GET">
      <input type="text" name="filter" placeholder="Nome ou email" value={{filter}}>
      <button type="submit">Filtrar</button>
    </form>
  </div>

  <table width="100%">
    <thead>
      <tr>
        <th>Estudante</th>
        <th>Email</th>
        <th>Ano Escolar</th>
        <th>Informações</th>
      </tr>
    </thead>
    {% for student in students %}
      <tbody>
        <tr>
          <td>
            <span style="background-image: url({{student.avatar_url}})"></span>{{student.name}}
          </td>
          <td>{{student.email}}</td>
          <td>{{student.school_year}}</td>
          <td><a href="/students/{{student.id}}">Visualizar</a></td>
        </tr>
      </tbody>
    {% endfor %}
  </table>

  <div class="pagination"
    data-page={{pagination.page}}
    data-total={{pagination.total}}
    data-filter={{filter}}
  ></div>

</div>

{% endblock %}
